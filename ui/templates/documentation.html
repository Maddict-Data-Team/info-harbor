{% extends "base.html" %}

{% block title %}Documentation - Campaign Manager{% endblock %}

{% block content %}
<div class="container">
    <!-- Header -->
    <div class="row mb-4">
        <div class="col-12">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{{ url_for('index') }}">Dashboard</a></li>
                    <li class="breadcrumb-item active">Documentation</li>
                </ol>
            </nav>
            
            <h1 class="display-5 fw-bold mb-3">
                <i class="bi bi-book me-3 text-primary"></i>
                Info-Harbor Documentation
            </h1>
            <p class="lead text-muted">Complete guide to the Info-Harbor Campaign Management System</p>
        </div>
    </div>

    <!-- Table of Contents -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="bi bi-list-ul me-2"></i>
                        Table of Contents
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <ul class="list-unstyled">
                                <li><a href="#overview" class="text-decoration-none">üìã Overview</a></li>
                                <li><a href="#architecture" class="text-decoration-none">üèóÔ∏è System Architecture</a></li>
                                <li><a href="#features" class="text-decoration-none">‚ú® Key Features</a></li>
                                <li><a href="#campaigns" class="text-decoration-none">üéØ Campaign Management</a></li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul class="list-unstyled">
                                <li><a href="#automation" class="text-decoration-none">‚öôÔ∏è Automation Pipeline</a></li>
                                <li><a href="#segments" class="text-decoration-none">üìä Segments Processing</a></li>
                                <li><a href="#tracker" class="text-decoration-none">üìà Campaign Tracker</a></li>
                                <li><a href="#usage" class="text-decoration-none">üöÄ Getting Started</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Overview Section -->
    <div class="row mb-5" id="overview">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h2 class="h4 mb-0">
                        <i class="bi bi-info-circle me-2"></i>
                        Overview
                    </h2>
                </div>
                <div class="card-body">
                    <p class="lead">Info-Harbor is a comprehensive campaign management system designed for location-based marketing and analytics.</p>
                    
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <h5>üéØ Purpose</h5>
                            <p>Manage and automate location-based marketing campaigns across multiple platforms including:</p>
                            <ul>
                                <li><strong>Placelift:</strong> Location-based advertising campaigns</li>
                                <li><strong>Comparative Analysis:</strong> Market research and competitive analysis</li>
                                <li><strong>OOH (Out-of-Home):</strong> Digital signage and outdoor advertising</li>
                                <li><strong>Retail Intelligence:</strong> Store performance and customer behavior analysis</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5>üåç Global Reach</h5>
                            <p>Supports campaigns across multiple countries and regions with:</p>
                            <ul>
                                <li>Multi-country campaign configuration</li>
                                <li>Localized segment processing</li>
                                <li>Regional data validation</li>
                                <li>Cross-border analytics</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Architecture Section -->
    <div class="row mb-5" id="architecture">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h2 class="h4 mb-0">
                        <i class="bi bi-diagram-3 me-2"></i>
                        System Architecture
                    </h2>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>üìÅ Project Structure</h5>
                            <pre class="bg-light p-3 rounded"><code>info-harbor/
‚îú‚îÄ‚îÄ shared/                 # Shared utilities and models
‚îÇ   ‚îú‚îÄ‚îÄ config/            # Configuration management
‚îÇ   ‚îú‚îÄ‚îÄ models/            # Data models
‚îÇ   ‚îî‚îÄ‚îÄ utils/             # Utility functions
‚îú‚îÄ‚îÄ projects/              # Core project modules
‚îÇ   ‚îú‚îÄ‚îÄ automation/        # Main automation pipeline
‚îÇ   ‚îú‚îÄ‚îÄ campaign-tracker/  # Campaign tracking system
‚îÇ   ‚îî‚îÄ‚îÄ segments/          # Segment processing
‚îú‚îÄ‚îÄ ui/                    # Web interface
‚îÇ   ‚îú‚îÄ‚îÄ templates/         # HTML templates
‚îÇ   ‚îî‚îÄ‚îÄ app.py            # Flask application
‚îî‚îÄ‚îÄ keys/                  # API keys and credentials</code></pre>
                        </div>
                        <div class="col-md-6">
                            <h5>üîß Technology Stack</h5>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span><i class="bi bi-python me-2"></i>Python 3.x</span>
                                    <span class="badge bg-primary">Backend</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span><i class="bi bi-bootstrap me-2"></i>Flask + Bootstrap</span>
                                    <span class="badge bg-success">Web UI</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span><i class="bi bi-database me-2"></i>BigQuery</span>
                                    <span class="badge bg-info">Data Storage</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span><i class="bi bi-cloud me-2"></i>Google Cloud</span>
                                    <span class="badge bg-warning">Infrastructure</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <div class="row mb-5" id="features">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h2 class="h4 mb-0">
                        <i class="bi bi-star me-2"></i>
                        Key Features
                    </h2>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="text-center">
                                <i class="bi bi-gear display-4 text-primary mb-3"></i>
                                <h5>Automated Processing</h5>
                                <p>Automated pipeline for segment processing, data validation, and campaign tracking with minimal manual intervention.</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="text-center">
                                <i class="bi bi-graph-up display-4 text-success mb-3"></i>
                                <h5>Real-time Monitoring</h5>
                                <p>Live dashboard with real-time campaign status, performance metrics, and automated alerts for issues.</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="text-center">
                                <i class="bi bi-shield-check display-4 text-warning mb-3"></i>
                                <h5>Data Validation</h5>
                                <p>Comprehensive validation system ensuring data quality, configuration accuracy, and campaign integrity.</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="text-center">
                                <i class="bi bi-globe display-4 text-info mb-3"></i>
                                <h5>Multi-country Support</h5>
                                <p>Support for campaigns across multiple countries with localized processing and regional compliance.</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="text-center">
                                <i class="bi bi-cloud-upload display-4 text-secondary mb-3"></i>
                                <h5>Cloud Integration</h5>
                                <p>Seamless integration with Google Cloud services including BigQuery, Cloud Storage, and Drive.</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="text-center">
                                <i class="bi bi-code-slash display-4 text-dark mb-3"></i>
                                <h5>API Access</h5>
                                <p>RESTful API endpoints for programmatic access to campaign data and automation triggers.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Campaign Management Section -->
    <div class="row mb-5" id="campaigns">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h2 class="h4 mb-0">
                        <i class="bi bi-briefcase me-2"></i>
                        Campaign Management
                    </h2>
                </div>
                <div class="card-body">
                    <h5>üìã Campaign Types</h5>
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card border-primary">
                                <div class="card-body">
                                    <h6 class="card-title text-primary">
                                        <i class="bi bi-geo-alt me-2"></i>Placelift
                                    </h6>
                                    <p class="card-text">Location-based advertising campaigns targeting specific geographic areas and points of interest.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card border-success">
                                <div class="card-body">
                                    <h6 class="card-title text-success">
                                        <i class="bi bi-graph-up-arrow me-2"></i>Comparative Analysis
                                    </h6>
                                    <p class="card-text">Market research campaigns comparing performance across different regions or competitors.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mt-3">
                            <div class="card border-warning">
                                <div class="card-body">
                                    <h6 class="card-title text-warning">
                                        <i class="bi bi-signpost me-2"></i>OOH (Out-of-Home)
                                    </h6>
                                    <p class="card-text">Digital signage and outdoor advertising campaigns for physical locations.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mt-3">
                            <div class="card border-info">
                                <div class="card-body">
                                    <h6 class="card-title text-info">
                                        <i class="bi bi-shop me-2"></i>Retail Intelligence
                                    </h6>
                                    <p class="card-text">Store performance analysis and customer behavior tracking for retail locations.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h5>‚öôÔ∏è Campaign Configuration</h5>
                    <p>Each campaign requires the following configuration:</p>
                    <ul>
                        <li><strong>Campaign Code:</strong> Unique identifier for the campaign</li>
                        <li><strong>Countries:</strong> Target countries for the campaign</li>
                        <li><strong>Type:</strong> Campaign type (Placelift, Comparative Analysis, etc.)</li>
                        <li><strong>Date Range:</strong> Start and end dates for the campaign</li>
                        <li><strong>Segments:</strong> Target audience segments</li>
                        <li><strong>Excluded Segments:</strong> Segments to exclude from targeting</li>
                        <li><strong>Parameters:</strong> Campaign-specific parameters (radius, time intervals, etc.)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Automation Section -->
    <div class="row mb-5" id="automation">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h2 class="h4 mb-0">
                        <i class="bi bi-robot me-2"></i>
                        Automation Pipeline
                    </h2>
                </div>
                <div class="card-body">
                    <h5>üîÑ Automation Workflow</h5>
                    <div class="row">
                        <div class="col-md-8">
                            <ol class="list-group list-group-numbered">
                                <li class="list-group-item">
                                    <strong>Data Extraction:</strong> Extract campaign data from BigQuery Campaign_Tracker table
                                </li>
                                <li class="list-group-item">
                                    <strong>Validation:</strong> Validate campaign configurations and data integrity
                                </li>
                                <li class="list-group-item">
                                    <strong>Segment Processing:</strong> Process target segments for each campaign
                                </li>
                                <li class="list-group-item">
                                    <strong>Data Upload:</strong> Upload processed data to backend systems
                                </li>
                                <li class="list-group-item">
                                    <strong>Tracking:</strong> Update campaign tracking metrics
                                </li>
                                <li class="list-group-item">
                                    <strong>Reporting:</strong> Generate and distribute reports
                                </li>
                            </ol>
                        </div>
                        <div class="col-md-4">
                            <div class="alert alert-info">
                                <h6><i class="bi bi-info-circle me-2"></i>Automation Benefits</h6>
                                <ul class="mb-0 small">
                                    <li>Reduced manual errors</li>
                                    <li>Faster processing</li>
                                    <li>Consistent results</li>
                                    <li>24/7 availability</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Segments Section -->
    <div class="row mb-5" id="segments">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h2 class="h4 mb-0">
                        <i class="bi bi-pie-chart me-2"></i>
                        Segments Processing
                    </h2>
                </div>
                <div class="card-body">
                    <h5>üìä Segment Types</h5>
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h6>Standard Segments</h6>
                            <ul>
                                <li>Demographic segments (age, gender, income)</li>
                                <li>Geographic segments (cities, regions, countries)</li>
                                <li>Behavioral segments (purchase history, interests)</li>
                                <li>Contextual segments (time, location, activity)</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Custom Segments</h6>
                            <ul>
                                <li>Custom audience definitions</li>
                                <li>Lookalike audiences</li>
                                <li>Retargeting segments</li>
                                <li>Exclusion lists</li>
                            </ul>
                        </div>
                    </div>

                    <h5>üîß Processing Pipeline</h5>
                    <div class="row">
                        <div class="col-md-8">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h6>Segment Processing Steps:</h6>
                                    <ol>
                                        <li>Extract segment definitions from campaign configuration</li>
                                        <li>Validate segment parameters and criteria</li>
                                        <li>Query relevant data sources (BigQuery, external APIs)</li>
                                        <li>Apply segment filters and criteria</li>
                                        <li>Generate segment files and reports</li>
                                        <li>Upload to target platforms (Google Ads, Facebook, etc.)</li>
                                        <li>Update campaign tracking metrics</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="alert alert-success">
                                <h6><i class="bi bi-check-circle me-2"></i>Quality Assurance</h6>
                                <ul class="mb-0 small">
                                    <li>Data validation checks</li>
                                    <li>Size verification</li>
                                    <li>Format compliance</li>
                                    <li>Error handling</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tracker Section -->
    <div class="row mb-5" id="tracker">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h2 class="h4 mb-0">
                        <i class="bi bi-graph-up me-2"></i>
                        Campaign Tracker
                    </h2>
                </div>
                <div class="card-body">
                    <h5>üìà Tracking Metrics</h5>
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h6>Performance Metrics</h6>
                            <ul>
                                <li>Impressions and reach</li>
                                <li>Click-through rates (CTR)</li>
                                <li>Conversion rates</li>
                                <li>Cost per acquisition (CPA)</li>
                                <li>Return on ad spend (ROAS)</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Operational Metrics</h6>
                            <ul>
                                <li>Campaign status and health</li>
                                <li>Data processing times</li>
                                <li>Error rates and issues</li>
                                <li>Segment performance</li>
                                <li>Budget utilization</li>
                            </ul>
                        </div>
                    </div>

                    <h5>üìä Reporting</h5>
                    <p>The system generates comprehensive reports including:</p>
                    <ul>
                        <li><strong>Daily Reports:</strong> Performance summaries and alerts</li>
                        <li><strong>Weekly Reports:</strong> Trend analysis and optimization recommendations</li>
                        <li><strong>Monthly Reports:</strong> Comprehensive performance analysis</li>
                        <li><strong>Custom Reports:</strong> Ad-hoc reporting for specific needs</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Getting Started Section -->
    <div class="row mb-5" id="usage">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h2 class="h4 mb-0">
                        <i class="bi bi-rocket me-2"></i>
                        Getting Started
                    </h2>
                </div>
                <div class="card-body">
                    <h5>üöÄ Quick Start Guide</h5>
                    <div class="row">
                        <div class="col-md-6">
                            <h6>1. Access the Dashboard</h6>
                            <p>Navigate to the main dashboard to view all active campaigns and their current status.</p>
                            
                            <h6>2. Review Campaigns</h6>
                            <p>Click on any campaign to view detailed information, configuration, and available actions.</p>
                            
                            <h6>3. Run Segments</h6>
                            <p>Use the "Run Segments" button to process target segments for a specific campaign.</p>
                        </div>
                        <div class="col-md-6">
                            <h6>4. Run Tracker</h6>
                            <p>Use the "Run Tracker" button to update campaign performance metrics and tracking data.</p>
                            
                            <h6>5. Automation</h6>
                            <p>Use the "Run Automation" button to execute the complete automation pipeline for all campaigns.</p>
                            
                            <h6>6. Monitor Progress</h6>
                            <p>Monitor the progress of operations through the dashboard and check for any alerts or errors.</p>
                        </div>
                    </div>

                    <h5 class="mt-4">‚ö†Ô∏è Important Notes</h5>
                    <div class="alert alert-warning">
                        <ul class="mb-0">
                            <li>Ensure all campaign configurations are valid before running operations</li>
                            <li>Monitor the automation process for any errors or warnings</li>
                            <li>Check BigQuery tables for data consistency</li>
                            <li>Verify API credentials and permissions are properly configured</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Support Section -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h2 class="h4 mb-0">
                        <i class="bi bi-question-circle me-2"></i>
                        Support & Troubleshooting
                    </h2>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>üîß Common Issues</h5>
                            <div class="accordion" id="troubleshootingAccordion">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                                            Campaign not loading
                                        </button>
                                    </h2>
                                    <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                        <div class="accordion-body">
                                            Check BigQuery Campaign_Tracker table for data availability and connection settings.
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                                            Automation fails
                                        </button>
                                    </h2>
                                    <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                        <div class="accordion-body">
                                            Verify API credentials, check error logs, and ensure all dependencies are installed.
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                                            Data validation errors
                                        </button>
                                    </h2>
                                    <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                        <div class="accordion-body">
                                            Review campaign configuration files and ensure all required fields are properly set.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h5>üìû Contact Information</h5>
                            <div class="card bg-light">
                                <div class="card-body">
                                    <p><strong>Development Team:</strong> Maddict</p>
                                    <p><strong>Project:</strong> Info-Harbor Campaign Manager</p>
                                    <p><strong>Version:</strong> 2025.1</p>
                                    <p><strong>Last Updated:</strong> January 2025</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 